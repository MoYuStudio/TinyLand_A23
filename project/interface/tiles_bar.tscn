[gd_scene load_steps=4 format=3 uid="uid://be3rafvp3s3pe"]

[ext_resource type="Theme" uid="uid://b1f5fso0ajmoi" path="res://interface/theme.tres" id="1_7ui4f"]

[sub_resource type="GDScript" id="GDScript_yjgb4"]
script/source = "
extends MarginContainer

@onready var tiles_bar_tile = preload(\"res://interface/tiles_bar_tile.tscn\")

@onready var tab_container = $TabContainer

var tab_data = {
	# 瓷砖
	\"<tile>\":[\"dirt_block\",\"grass_block\",\"rock_block\",\"sand_block\",\"water_block\",],
	# 墙壁
	\"<wall>\":[],
	# 农业
	\"<agriculture>\":[\"berry_bush\",\"wheat_field\",],
	# 工业
	\"<industry>\":[\"dirt_capture_net\"],
	# 商业
	\"<commerce>\":[],
	# 科技
	\"<technology>\":[],
	# 奇观
	\"<wonder>\":[\"natural_wonder\",],
	# 装饰
	\"<decoration>\":[\"aircraft_carrier_decoration\"],
}

func _ready():
	# 根据 tab_data 生成 瓷砖选择器
	for tab in tab_data:
		var tab_list = tab_container.get_node(tab+\"/MarginContainer/ScrollContainer/HBoxContainer\")
		for tile_name in tab_data[tab]:
			var tile_data = load(\"res://tile/data/\"+tile_name+\".tres\")
			var tile = tiles_bar_tile.instantiate()
			tile.name = tile_name
			tile.tile_name = tile_name
			tile.tile_texture = tile_data.tile_texture
			tab_list.add_child(tile)

func _process(delta):
	pass
"

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_07wep"]
bg_color = Color(1, 1, 1, 0.12549)

[node name="TilesBar" type="MarginContainer"]
anchors_preset = 12
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_top = -160.0
grow_horizontal = 2
grow_vertical = 0
pivot_offset = Vector2(512, 80)
mouse_filter = 0
theme_override_constants/margin_left = 0
theme_override_constants/margin_top = 16
theme_override_constants/margin_right = 0
theme_override_constants/margin_bottom = 16
script = SubResource("GDScript_yjgb4")

[node name="TabContainer" type="TabContainer" parent="."]
layout_mode = 2
theme = ExtResource("1_7ui4f")
theme_override_styles/panel = SubResource("StyleBoxFlat_07wep")
tab_alignment = 1
drag_to_rearrange_enabled = true

[node name="<tile>" type="TabBar" parent="TabContainer"]
texture_filter = 1
layout_mode = 2
theme = ExtResource("1_7ui4f")

[node name="MarginContainer" type="MarginContainer" parent="TabContainer/<tile>"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_bottom = 16.0
grow_horizontal = 2
grow_vertical = 2
theme_override_constants/margin_left = 16
theme_override_constants/margin_top = 8
theme_override_constants/margin_right = 16

[node name="ScrollContainer" type="ScrollContainer" parent="TabContainer/<tile>/MarginContainer"]
clip_contents = false
layout_mode = 2
vertical_scroll_mode = 0

[node name="HBoxContainer" type="HBoxContainer" parent="TabContainer/<tile>/MarginContainer/ScrollContainer"]
layout_mode = 2
theme_override_constants/separation = 8

[node name="<wall>" type="TabBar" parent="TabContainer"]
visible = false
texture_filter = 1
layout_mode = 2
theme = ExtResource("1_7ui4f")

[node name="MarginContainer" type="MarginContainer" parent="TabContainer/<wall>"]
layout_mode = 0
offset_right = 80.0
offset_bottom = 80.0
theme_override_constants/margin_left = 16
theme_override_constants/margin_top = 8
theme_override_constants/margin_right = 16

[node name="ScrollContainer" type="ScrollContainer" parent="TabContainer/<wall>/MarginContainer"]
clip_contents = false
layout_mode = 2
vertical_scroll_mode = 0

[node name="HBoxContainer" type="HBoxContainer" parent="TabContainer/<wall>/MarginContainer/ScrollContainer"]
layout_mode = 2
theme_override_constants/separation = 8

[node name="<agriculture>" type="TabBar" parent="TabContainer"]
visible = false
texture_filter = 1
layout_mode = 2
theme = ExtResource("1_7ui4f")

[node name="MarginContainer" type="MarginContainer" parent="TabContainer/<agriculture>"]
layout_mode = 0
offset_right = 40.0
offset_bottom = 40.0
theme_override_constants/margin_left = 16
theme_override_constants/margin_top = 8
theme_override_constants/margin_right = 16

[node name="ScrollContainer" type="ScrollContainer" parent="TabContainer/<agriculture>/MarginContainer"]
clip_contents = false
layout_mode = 2
vertical_scroll_mode = 0

[node name="HBoxContainer" type="HBoxContainer" parent="TabContainer/<agriculture>/MarginContainer/ScrollContainer"]
layout_mode = 2
theme_override_constants/separation = 8

[node name="<industry>" type="TabBar" parent="TabContainer"]
visible = false
texture_filter = 1
layout_mode = 2
theme = ExtResource("1_7ui4f")

[node name="MarginContainer" type="MarginContainer" parent="TabContainer/<industry>"]
layout_mode = 0
offset_right = 40.0
offset_bottom = 40.0
theme_override_constants/margin_left = 16
theme_override_constants/margin_top = 8
theme_override_constants/margin_right = 16

[node name="ScrollContainer" type="ScrollContainer" parent="TabContainer/<industry>/MarginContainer"]
clip_contents = false
layout_mode = 2
vertical_scroll_mode = 0

[node name="HBoxContainer" type="HBoxContainer" parent="TabContainer/<industry>/MarginContainer/ScrollContainer"]
layout_mode = 2
theme_override_constants/separation = 8

[node name="<commerce>" type="TabBar" parent="TabContainer"]
visible = false
texture_filter = 1
layout_mode = 2
theme = ExtResource("1_7ui4f")

[node name="MarginContainer" type="MarginContainer" parent="TabContainer/<commerce>"]
layout_mode = 0
offset_right = 40.0
offset_bottom = 40.0
theme_override_constants/margin_left = 16
theme_override_constants/margin_top = 8
theme_override_constants/margin_right = 16

[node name="ScrollContainer" type="ScrollContainer" parent="TabContainer/<commerce>/MarginContainer"]
clip_contents = false
layout_mode = 2
vertical_scroll_mode = 0

[node name="HBoxContainer" type="HBoxContainer" parent="TabContainer/<commerce>/MarginContainer/ScrollContainer"]
layout_mode = 2
theme_override_constants/separation = 8

[node name="<technology>" type="TabBar" parent="TabContainer"]
visible = false
texture_filter = 1
layout_mode = 2
theme = ExtResource("1_7ui4f")

[node name="MarginContainer" type="MarginContainer" parent="TabContainer/<technology>"]
layout_mode = 0
offset_right = 40.0
offset_bottom = 40.0
theme_override_constants/margin_left = 16
theme_override_constants/margin_top = 8
theme_override_constants/margin_right = 16

[node name="ScrollContainer" type="ScrollContainer" parent="TabContainer/<technology>/MarginContainer"]
clip_contents = false
layout_mode = 2
vertical_scroll_mode = 0

[node name="HBoxContainer" type="HBoxContainer" parent="TabContainer/<technology>/MarginContainer/ScrollContainer"]
layout_mode = 2
theme_override_constants/separation = 8

[node name="<wonder>" type="TabBar" parent="TabContainer"]
visible = false
texture_filter = 1
layout_mode = 2
theme = ExtResource("1_7ui4f")

[node name="MarginContainer" type="MarginContainer" parent="TabContainer/<wonder>"]
layout_mode = 0
offset_right = 40.0
offset_bottom = 40.0
theme_override_constants/margin_left = 16
theme_override_constants/margin_top = 8
theme_override_constants/margin_right = 16

[node name="ScrollContainer" type="ScrollContainer" parent="TabContainer/<wonder>/MarginContainer"]
clip_contents = false
layout_mode = 2
vertical_scroll_mode = 0

[node name="HBoxContainer" type="HBoxContainer" parent="TabContainer/<wonder>/MarginContainer/ScrollContainer"]
layout_mode = 2
theme_override_constants/separation = 8

[node name="<decoration>" type="TabBar" parent="TabContainer"]
visible = false
texture_filter = 1
layout_mode = 2
theme = ExtResource("1_7ui4f")

[node name="MarginContainer" type="MarginContainer" parent="TabContainer/<decoration>"]
layout_mode = 0
offset_right = 40.0
offset_bottom = 40.0
theme_override_constants/margin_left = 16
theme_override_constants/margin_top = 8
theme_override_constants/margin_right = 16

[node name="ScrollContainer" type="ScrollContainer" parent="TabContainer/<decoration>/MarginContainer"]
clip_contents = false
layout_mode = 2
vertical_scroll_mode = 0

[node name="HBoxContainer" type="HBoxContainer" parent="TabContainer/<decoration>/MarginContainer/ScrollContainer"]
layout_mode = 2
theme_override_constants/separation = 8
